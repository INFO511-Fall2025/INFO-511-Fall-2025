{
  "hash": "b9e833793da717b3fa24ee0c81b9d757",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: 'AE 09: Hypothesis testing'\ncategories:\n  - Application exercise\neditor: visual\neditor_options:\n  chunk_output_type: console\nexecute:\n  warning: false\n  error: false\n---\n\nAn article in the The Tucson Citizen-Times published in the summer of 2020 claims that the average price per guest (ppg) for properties in Tucson is \\$100 on Airbnb.\nTo evaluate their claim we will use a dataset on 50 randomly selected Asheville Airbnb listings in July 2024.\nThese data can be found in `data/tucson.csv`.\n\nLet's load the packages we'll use first.\n\n::: {#load-packages .cell message='false' execution_count=1}\n``` {.python .cell-code}\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom scipy import stats\n```\n:::\n\n\nAnd then the data.\n\n::: {#load-data .cell message='false' execution_count=2}\n``` {.python .cell-code}\n# add code here\n```\n:::\n\n\n## Hypotheses\n\n-   Write out the correct null and alternative hypothesis. Do this in both words *and* in proper notation.\n\n*Add response here.*\n\n## Observed data\n\nOur goal is to use calculate the probability of a sample statistic at least as extreme as the one observed in our data if in fact the null hypothesis is true.\n\n-   Calculate and report the sample statistic below using proper notation.\n\n::: {#point-estimate .cell execution_count=3}\n``` {.python .cell-code}\n# add code here\n```\n:::\n\n\n$$\\bar{x} = 116.24$$\n\n## The null distribution\n\nLet's use simulation-based methods to conduct the hypothesis test specified above.\n\n### Generate\n\nWe'll start by generating the null distribution.\n\n-   Generate the null distribution and call it `null_dist`\n\n::: {#set-seed .cell execution_count=4}\n``` {.python .cell-code}\nnp.random.seed(4321)\n```\n:::\n\n\n::: {#null-dist-generate .cell execution_count=5}\n``` {.python .cell-code}\n# add code here\n```\n:::\n\n\n-   Take a look at `null_dist`. What does each element in this distribution represent?\n\n::: {#null-dist-view .cell execution_count=6}\n``` {.python .cell-code}\n# add code here\n```\n:::\n\n\n## Visualize\n\n-   **Question:** Before you visualize the distribution of `null_dist` -- at what value would you expect this distribution to be centered? Why?\n\n*Add response here.*\n\n-   Create an appropriate visualization for your null distribution. Does the center of the distribution match what you guessed in the previous question?\n\n::: {#null-dist-visualize .cell execution_count=7}\n``` {.python .cell-code}\n# add code here\n```\n:::\n\n\n-   Now, add a vertical red line on your null distribution that represents your sample statistic.\n\n::: {#null-dist-annotate .cell execution_count=8}\n``` {.python .cell-code}\n# add code here\n```\n:::\n\n\n-   **Question:** Based on the position of this line, does your observed sample mean appear to be an unusual observation under the assumption of the null hypothesis?\n\n*Add response here.*\n\n## p-value\n\nAbove, we eyeballed how likely/unlikely our observed mean is.\nNow, let's actually quantify it using a p-value.\n\n-   **Question:** What is a p-value?\n\n*Add response here.*\n\n-   **Demo:** Visualize the p-value. Note that the two-sided approach would visualize two lines, one for the sample mean and another for $H_0 - (\\mu - H_0)$ or $100 - (\\mu - 100)$\n\n::: {#p-value-visualize .cell execution_count=9}\n``` {.python .cell-code}\n# add code here\n```\n:::\n\n\n## Conclusion\n\n-   What is the conclusion of the hypothesis test based on the p-value you calculated? Make sure to frame it in context of the data and the research question. Use a significance level of 5% to make your conclusion.\n\n*Add response here.*\n\n-   Interpret the p-value in context of the data and the research question.\n\n*Add response here.*\n\n# Get real...\n\n-   **Question:** What we did above was a \"toy example\" to illustrate hypothesis test. What would you change to make this a real, more robust analysis?\n\n*Add response here.*\n\n-   Work through the analysis again with these changes.\n\n::: {#hypothesis-test .cell execution_count=10}\n``` {.python .cell-code}\n# Generate a larger random dataset for a more robust analysis\ndata_large = np.random.normal(loc=75, scale=10, size=1000)\n\n# Recalculate the sample mean\nsample_mean_large = np.mean(data_large)\nprint(f\"Sample Mean (x̄) with larger sample = {sample_mean_large}\")\n\n# Generate the null distribution with a larger sample\nnull_dist_large = np.random.normal(loc=75, scale=10, size=10000)\n\n# Recalculate the p-value\np_value_large = (null_dist_large >= sample_mean_large).mean()\nprint(f\"P-value with larger sample = {p_value_large}\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nSample Mean (x̄) with larger sample = 75.53742491599797\nP-value with larger sample = 0.4791\n```\n:::\n:::\n\n\n",
    "supporting": [
      "ae-09-hypothesis-testing_files/figure-html"
    ],
    "filters": [],
    "includes": {}
  }
}