{
  "hash": "db1929d6dd8c1b3229cfc038ef459e2b",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: 'AE 03: Tucson Housing'\nsubtitle: Suggested answers\ncategories:\n  - Application exercise\n  - Answers\nexecute:\n  warning: false\n  error: false\n---\n\n::: callout-important\nThese are suggested answers.\nThis document should be used as reference only, it's not designed to be an exhaustive key.\n:::\n\n# Packages\n\n::: {#load-packages .cell message='false' execution_count=1}\n``` {.python .cell-code}\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n```\n:::\n\n\n# Read in Data + wrangle\n\n::: {#a3499b0f .cell execution_count=2}\n``` {.python .cell-code}\ntucson_housing = pd.read_csv(\"data/tucsonHousing.csv\")\n\ngarage_types = [\"Single Family\", \"Townhouse\"]\n\ntucson_housing['garage'] = tucson_housing['type'].apply(lambda x: 'Garage' if x in garage_types else 'No garage')\n```\n:::\n\n\n# Exercise 1\n\nFrom the histograms, it appears that houses with garages (assumed based on house type) generally have a wider range of prices compared to those without garages.\nThis suggests that having a garage might be associated with higher or more variable house prices in Tucson.\n\n::: {#cell-price-garage .cell execution_count=3}\n``` {.python .cell-code}\ng = sns.FacetGrid(tucson_housing, row=\"garage\")\ng.map(sns.histplot, \"price\", kde=False, binwidth=50000)\ng.set_axis_labels(\"Price\", \"Count\")\ng.set_titles(\"{row_name}\")\ng.fig.suptitle(\"Distribution of House Prices in Tucson by Garage Availability\", y=1.05)\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](ae-03-tucson-housing-A_files/figure-html/price-garage-output-1.png){#price-garage width=500 height=610}\n:::\n:::\n\n\n# Exercise 2\n\n-   **Claim 1: Larger houses are priced higher.** The scatter plot shows a positive correlation between house area and price, indicating that larger houses tend to be priced higher.\n\n    **Claim 2: Newer houses are priced higher.** From the color gradient, it appears that newer houses (lighter colors) are generally more expensive, supporting the claim that newer houses are priced higher.\n\n    **Claim 3: Bigger and more expensive houses tend to be newer ones than smaller and cheaper ones.** The plot suggests that bigger and more expensive houses are often newer, as indicated by the clustering of lighter-colored points (newer houses) towards the upper right of the plot.\n\n::: {#cell-price-area .cell execution_count=4}\n``` {.python .cell-code}\nfrom statsmodels.nonparametric.smoothers_lowess import lowess\n\nplt.figure(figsize=(8, 6))\nscatter = sns.scatterplot(data=tucson_housing, x='area', y='price', hue='year_built', palette='viridis')\n\nlowess_fit = lowess(tucson_housing['price'], tucson_housing['area'], frac=0.3)\nlowess_x = [point[0] for point in lowess_fit]\nlowess_y = [point[1] for point in lowess_fit]\n\nplt.plot(lowess_x, lowess_y, color='red', linewidth=2)\n\nplt.title('Relationship between House Price and Area in Tucson, Colored by Year Built')\nplt.xlabel('Area (square feet)')\nplt.ylabel('Price ($)')\nplt.legend(title='Year Built', bbox_to_anchor=(1.05, 1), loc='upper left')\n\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](ae-03-tucson-housing-A_files/figure-html/price-area-output-1.png){#price-area width=811 height=523}\n:::\n:::\n\n\n",
    "supporting": [
      "ae-03-tucson-housing-A_files/figure-html"
    ],
    "filters": [],
    "includes": {}
  }
}