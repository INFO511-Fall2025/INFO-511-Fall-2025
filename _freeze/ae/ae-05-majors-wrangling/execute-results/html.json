{
  "hash": "19b98c1cbb1e4f863e15f41616625636",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: 'AE 05: Wrangling College Majors'\ncategories:\n  - Application exercise\nexecute:\n  warning: false\n  error: false\n---\n\n## Goal\n\nOur ultimate goal in this application exercise is to make the following data visualization.\n\n![](images/degrees_plot_final.png){fig-align=\"center\"}\n\n## Data\n\nFor this exercise you will work with data on the proportions of Bachelor’s degrees awarded in the US between 2005 and 2015.\nThe dataset you will use is in your `data/` folder and it’s called `degrees.csv`.\n\n::: {#load-packages-data .cell message='false' execution_count=1}\n``` {.python .cell-code}\nimport pandas as pd\nimport matplotlib.pyplot as plt\nfrom matplotlib.ticker import FormatStrFormatter\nimport seaborn as sns\n\ndegrees = pd.read_csv(\"data/degrees.csv\")\n```\n:::\n\n\nAnd let's take a look at the data.\n\n::: {#656b7bbc .cell execution_count=2}\n``` {.python .cell-code}\ndegrees.head()\n```\n\n::: {.cell-output .cell-output-display execution_count=2}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>degree</th>\n      <th>2019</th>\n      <th>2020</th>\n      <th>2021</th>\n      <th>2022</th>\n      <th>2023</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Information Science &amp; eSociety (BA)</td>\n      <td>63.0</td>\n      <td>61.0</td>\n      <td>67.0</td>\n      <td>71</td>\n      <td>38</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Information Science (BS)</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>16</td>\n      <td>57</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Information (PhD)</td>\n      <td>2.0</td>\n      <td>3.0</td>\n      <td>1.0</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Library &amp; Information Science (MA)</td>\n      <td>47.0</td>\n      <td>57.0</td>\n      <td>72.0</td>\n      <td>42</td>\n      <td>58</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Information (MS)</td>\n      <td>8.0</td>\n      <td>10.0</td>\n      <td>13.0</td>\n      <td>5</td>\n      <td>2</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n## Pivoting\n\n-   Pivot the `degrees` data frame *longer* such that each row represents a degree type / year combination and `year` and `n`umber of graduates for that year are columns in the data frame.\n\n::: {#pivot .cell execution_count=3}\n``` {.python .cell-code}\n# add your code here\n```\n:::\n\n\n-   **Question:** What is the type of the `year` variable? Why? What should it be?\n\n*Add your response here.*\n\n-   Start over with pivoting, and this time also make sure `year` is a numerical variable in the resulting data frame.\n\n::: {#pivot-with-transform .cell execution_count=4}\n``` {.python .cell-code}\n# add your code here\n```\n:::\n\n\n-   **Question:** What would an `NA` mean in this context? *Hint:* The data come from the university registrars, and they have records on every single graduates, there shouldn't be anything \"unknown\" to them about who graduated when.\n\n*Add your response here.*\n\n-   Add on to your pipeline that you started with pivoting and convert `NA`s in `n` to `0`s.\n\n::: {#convert-na .cell execution_count=5}\n``` {.python .cell-code}\n# add your code here\n```\n:::\n\n\n-   In our plot the degree types are BA, BS, MA, MS, and PhD. This information is in our dataset, in the `degree` column, but this column also has additional characters we don’t need. Create a new column called `degree_type` with levels BA, BS, MA, MS, and PhD (in this order) based on `degree`. Do this by adding on to your pipeline from earlier.\n\n::: {#degree-type .cell execution_count=6}\n``` {.python .cell-code}\n# add your code here\n```\n:::\n\n\n-   Now we start making our plot, but let's not get too fancy right away.\n    Create the following plot, which will serve as the \"first draft\" on the way to our [Goal].\n    Do this by adding on to your pipeline from earlier.\n\n-   **Hint**: Make sure to state `ci=None` when using `sns.lineplot()`\n\n![](images/degrees_start.png){fig-align=\"center\"}\n\n::: {#plot-draft .cell execution_count=7}\n``` {.python .cell-code}\n# add your code here\n```\n:::\n\n\n-   What aspects of the plot need to be updated to go from the draft you created above to the [Goal] plot at the beginning of this application exercise.\n\n*Add your response here.*\n\n-   Update x-axis scale such that the years displayed go from 2019 to 2023 in unique years. Do this by adding on to your pipeline from earlier.\n\n::: {#ec8de740 .cell execution_count=8}\n``` {.python .cell-code}\n# add your code here\n```\n:::\n\n\n-   Update line colors using the following level / color assignments.\n    Once again, do this by adding on to your pipeline from earlier.\n\n    -   BA: \"#53868B\"\n\n    -   BS: \"#7AC5CD\"\n\n    -   MA: \"#89a285\"\n\n    -   MS: \"#8B814C\"\n\n    -   PhD: \"#CDBE70\"\n\n::: {#plot-improve-1 .cell execution_count=9}\n``` {.python .cell-code}\n# add your code here\n```\n:::\n\n\n-   Update the plot labels (`title`, `x`, and `y`) and use `sns.set_style(\"white_grid\")`. Once again, do this by adding on to your pipeline from earlier.\n\n::: {#plot-improve-2 .cell execution_count=10}\n``` {.python .cell-code}\n# add your code here\n```\n:::\n\n\n",
    "supporting": [
      "ae-05-majors-wrangling_files/figure-html"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\" data-relocate-top=\"true\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}